---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


# [rstep](https://vezy.github.io/DynACof): a workflow for STEP (Sahelian Transpiration Evaporation and Productivity) model under R <img src="man/figures/logo.png" align="right" height="139" />



<!-- badges: start -->
[![R-CMD-check](https://github.com/MadoShi64/rstep/workflows/R-CMD-check/badge.svg)](https://github.com/MadoShi64/rstep/actions)
[![Codecov test coverage](https://codecov.io/gh/MadoShi64/rstep/branch/master/graph/badge.svg)](https://app.codecov.io/gh/MadoShi64/rstep?branch=master)
<!-- badges: end -->



## Overview

rstep provides simple functions to automatize the different tasks when performing 1D or 2D STEP [(Mougin et al. 1995)](https://www.sciencedirect.com/science/article/abs/pii/0034425794001268) simulation. It prepares the input data (meteo (file.mto), sol (file.sol), animal load (file.cha), vegetation (file.veg)...) for STEP simulation, by cleaning and formatting the data. It provides a simple workflow for the model parametrization and calibration, with a set of functions to automatize the visualisation of the model outputs (1D: plots and 2D: maps), using several functions some of which come from other packages in the R environment. 


## Installation

The development version of rstep can be installed from GitHub:

``` r
install.packages("remotes")
remotes::install_github("MadoShi64/rstep")
```


## Some examples

Calling a STEP soil file for formatting

```{r}
rstep::sol
```


An example showing how to perform a linear regression, display the graph and metrics with one line of code (example with a random dataset.) 

```{r cars}
library(rstep)
t = c(2,9,19,25,30,48,51,63,50,40,38,22,17,11,8,2,1) 
t2 = c(2.8,11,19,21.8,30,48,52,76,45,38,38,22,16,11,8.9,2.5,1)
var = t# observation
var.simu = t2# simulation

# create data frame
data = data.frame(var,var.simu) 

# Plot the graph of the regression
step_reg(data,"var","plot")

# Check the metrics of the linear regression 
step_reg(data,"var","metric")

```

