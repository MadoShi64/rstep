---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


# [rstep](https://vezy.github.io/DynACof): a workflow for STEP (Sahelian Transpiration Evaporation and Productivity) model under R <img src="man/figures/logo.png" align="right" height="139" />



<!-- badges: start -->
[![R-CMD-check](https://github.com/MadoShi64/rstep/workflows/R-CMD-check/badge.svg)](https://github.com/MadoShi64/rstep/actions)
[![Codecov test coverage](https://codecov.io/gh/MadoShi64/rstep/branch/master/graph/badge.svg)](https://app.codecov.io/gh/MadoShi64/rstep?branch=master)
<!-- badges: end -->



## Overview

rstep provides a workflow to automate various tasks when performing STEP simulations [(Mougin et al. 1995)](https://www.sciencedirect.com/science/article/abs/pii/0034425794001268). It prepares the model input data, runs the model from R, and automates the visualization of the model results.

## Installation

The development version of rstep can be installed from GitHub:

``` r
install.packages("remotes")
remotes::install_github("MadoShi64/rstep")
```


## Some examples

Calling a STEP soil file for formatting

```{r}
rstep::sol
```

Run the model from R

```{r}
#run_step_1D(step_daily_original=step_path,
#            daily_original=filepath)
```

Here's an example of visualization "simulation vs observation" with metrics.

```{r cars}
library(rstep)
t = c(2,9,19,25,30,48,51,63,50,40,38,22,17,11,8,2,1) 
t2 = c(2.8,11,19,21.8,30,48,52,76,45,38,38,22,16,11,8.9,2.5,1)
var = t# observation
var.simu = t2# simulation

# create data frame
data = data.frame(var,var.simu) 

# Plot the graph of the regression
step_reg(data,"var","plot")

# Check the metrics of the linear regression 
step_reg(data,"var","metric")

```

